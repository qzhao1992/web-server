<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <% include ../partials/header %>


    <title>Shopping Cart </title>
</head>

<body>
    <% include ../partials/extraNav %>

    <div class="container">
        <div class="row align-items-center">
            <div class="col-10">
                <h1>Shopping Cart</h1>
            </div>
            <div class="col-2">
                <a href="/" class="btn btn-success">Go Shopping</a>
            </div>
        </div>
        
        <% if (sc.items.length == 0) { %>
        <h3>Empty! Buy more!</h3>
        <% } else { %>
        <div class="card" style="width: 100%;">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th scope="col">id</th>
                        <th scope="col">Qty</th>
                        <th scope="col">Title</th>
                        <th scope="col">Description</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <% for (const item of sc.items) { %>
                    <tr>
                        <td><%= item.id %></td>
                        <td><%= item.qty %></td>
                        <td><%= bookinfo.getBook(item.id).title %></td>
                        <td><%= bookinfo.getBook(item.id).description %></td>
                        <td>
                            <a href="/add?id=<%=item.id%>" class="btn btn-primary">+</a>
                            <a href="/subtraction?id=<%=item.id%>" class="btn btn-warning">-</a>
                            <a href="/delete?id=<%=item.id%>" class="btn btn-danger">Delete</a>
                        </td>
                    </tr>
                    <% } %>
                </tbody>
            </table>
        </div>
        <% } %>
    </div>

    <% include ../partials/scripts %>
</body>

</html>